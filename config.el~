;; config.el

;; Install and apply Dracula theme if not already installed
(unless (package-installed-p 'dracula-theme)
  (package-refresh-contents)
  (package-install 'dracula-theme))
(require 'dracula-theme)
(load-theme 'dracula t)

;; Install and enable company mode for auto-completion
(unless (package-installed-p 'company)
  (package-refresh-contents)
  (package-install 'company))
(require 'company)
(add-hook 'after-init-hook 'global-company-mode)
(setq company-idle-delay 0.2)   ;; Delay before suggestions appear
(setq company-minimum-prefix-length 2) ;; Minimum prefix length for suggestions

;; Install and configure SLIME (Superior Lisp Interaction Mode for Emacs)
(unless (package-installed-p 'slime)
  (package-refresh-contents)
  (package-install 'slime))
(require 'slime)
(slime-setup '(slime-fancy))

;; Configure SLIME to use SBCL
(setq inferior-lisp-program "sbcl")
(add-to-list 'exec-path "/usr/local/bin")

;; Enable Paredit for Lisp editing
(unless (package-installed-p 'paredit)
  (package-refresh-contents)
  (package-install 'paredit))
(require 'paredit)
(add-hook 'emacs-lisp-mode-hook 'enable-paredit-mode)
(add-hook 'eval-expression-minibuffer-setup-hook 'enable-paredit-mode)
(add-hook 'ielm-mode-hook 'enable-paredit-mode)
(add-hook 'lisp-interaction-mode-hook 'enable-paredit-mode)
(add-hook 'lisp-mode-hook 'enable-paredit-mode)
(add-hook 'slime-repl-mode-hook 'enable-paredit-mode)

;; Enable Rainbow Delimiters for Lisp editing
(unless (package-installed-p 'rainbow-delimiters)
  (package-refresh-contents)
  (package-install 'rainbow-delimiters))
(require 'rainbow-delimiters)
(add-hook 'emacs-lisp-mode-hook 'rainbow-delimiters-mode)
(add-hook 'ielm-mode-hook 'rainbow-delimiters-mode)
(add-hook 'lisp-interaction-mode-hook 'rainbow-delimiters-mode)
(add-hook 'lisp-mode-hook 'rainbow-delimiters-mode)
(add-hook 'slime-repl-mode-hook 'rainbow-delimiters-mode)

;; Customize Rainbow Delimiters colors
(set-face-foreground 'rainbow-delimiters-depth-1-face "#c66")  ;; red
(set-face-foreground 'rainbow-delimiters-depth-2-face "#6c6")  ;; green
(set-face-foreground 'rainbow-delimiters-depth-3-face "#69f")  ;; blue
(set-face-foreground 'rainbow-delimiters-depth-4-face "#cc6")  ;; yellow
(set-face-foreground 'rainbow-delimiters-depth-5-face "#6cc")  ;; cyan
(set-face-foreground 'rainbow-delimiters-depth-6-face "#c6c")  ;; magenta
(set-face-foreground 'rainbow-delimiters-depth-7-face "#ccc")  ;; light gray
(set-face-foreground 'rainbow-delimiters-depth-8-face "#999")  ;; medium gray
(set-face-foreground 'rainbow-delimiters-depth-9-face "#666")  ;; dark gray

;; Which-Key
(unless (package-installed-p 'which-key)
  (package-refresh-contents)
  (package-install 'which-key))
(require 'which-key)
(which-key-mode)

;; Basic UI settings
(menu-bar-mode -1)          ;; Hide the menu bar
(tool-bar-mode -1)          ;; Hide the tool bar
(scroll-bar-mode -1)        ;; Hide the scroll bar
(setq inhibit-startup-message t) ;; Hide startup message

;; Basic editing settings
(setq-default indent-tabs-mode nil) ;; Use spaces instead of tabs
(setq-default tab-width 4)         ;; Set tab width to 4 spaces
(setq-default fill-column 80)      ;; Wrap text at 80 columns

;; Show line numbers
(global-display-line-numbers-mode t)

;; Recent files
(recentf-mode 1)
(setq recentf-max-menu-items 25)

;; Disable the Emacs ping sound
(setq ring-bell-function 'ignore)

